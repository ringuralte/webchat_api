{"version":3,"file":"static/webpack/static/development/pages/signin.js.56cb3eb99a6aba2decc1.hot-update.js","sources":["webpack:///./pages/signin.js"],"sourcesContent":["//TODO try switching to functional components and hooks later can't implement a correct fetch method otherwise\n\nimport React from \"react\";\nimport Router from \"next/router\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Container from \"@material-ui/core/Container\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-unfetch\";\n\nimport Layout from \"../components/Layout\";\nimport Errorbox from \"../components/Errorbox\";\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    root: {\n      width: \"100vw\",\n      position: \"relative\",\n      background: \"linear-gradient(135deg, #eeffff, #00bbcc)\",\n      height: \"100vh\"\n    },\n    main: {\n      [theme.breakpoints.down(\"sm\")]: {\n        marginTop: theme.spacing(2)\n      },\n      marginTop: theme.spacing(8),\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    },\n    linkStyle: {\n      textDecoration: \"none\",\n    },\n    container: {\n      paddingTop: \"8vh\"\n    },\n    curve: {\n      position: \"absolute\",\n      bottom: 0,\n      width: \"100%\"\n    },\n    curve2: {\n      position: \"absolute\",\n      bottom: 10,\n      width: \"100%\"\n    },\n    path: {\n      fill: \"#0ff\",\n    },\n    path2: {\n      fill: \"#0bf\"\n    }\n  })\n);\n\nconst SignIn = () => {\n  const classes = useStyles();\n  const [userName, setUserName] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  const [error, setError] = React.useState({\n    msg: \"\",\n    display: false\n  });\n\n  const signIn = e => {\n    e.preventDefault();\n    fetch(\"http://localhost:5000/api/signIn\", {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\"},\n      credentials: \"include\",\n      body: JSON.stringify({\n        user: userName,\n        password: password\n      })\n    })\n      .then(res => res.json())\n      .then(response => {\n        if (response.code === 200) {\n          setUserName(\"\");\n          setPassword(\"\");\n          Router.push(\"/\");\n        } else {\n          setError({msg: response.msg, display: true});\n        }\n      })\n      .catch(err => alert(err));\n  };\n\n  return (\n    <Layout>\n      <div className={classes.root}>\n        <Container className={classes.container} component=\"main\" maxWidth=\"xs\">\n          <Errorbox error={error}/>\n          <div className={classes.main}>\n            <Typography className={classes.title} component=\"h1\" variant=\"h5\">\n              Sign In\n            </Typography>\n            <form className={classes.form} onSubmit={signIn}>\n              <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"user\"\n                label=\"User Name\"\n                name=\"userName\"\n                autoFocus\n                value={userName}\n                onChange={e => setUserName(e.target.value)}\n              />\n              <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                type=\"password\"\n                id=\"password\"\n                label=\"Password\"\n                name=\"password\"\n                autoFocus\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                className={classes.submit}\n                color=\"primary\"\n              >\n                Sign In\n              </Button>\n            </form>\n            <Typography component=\"main\" variant=\"subtitle1\">\n              Don't have an account?{\" \"}\n              <Link href=\"/signup\">\n                <a className={classes.linkStyle}>Sign Up.</a>\n              </Link>\n            </Typography>\n          </div>\n        </Container>\n        <svg className={classes.curve2} viewBox=\"0 0 2391 378\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path className={classes.path2}\n                d=\"M343.937 124.55C165.147 -23.9495 40.8167 206.775 1 340.7V377L2390 366.275V296.15C2336.7 213.1 2205.05 45.1854 2104.86 37.9254C1979.63 28.8505 1817.8 98.9754 1698.35 218.6C1578.9 338.225 1336.14 304.4 1334.22 304.4C1189.72 318.425 1191.65 118.775 1025.96 18.1255C860.269 -82.5244 779.352 292.85 742.746 304.4C706.14 315.95 538.525 306.05 343.937 124.55Z\"/>\n        </svg>\n        <svg className={classes.curve} viewBox=\"0 0 1416.99 174.01\">\n          <path\n            className={classes.path}\n            d=\"M0,280.8S283.66,59,608.94,163.56s437.93,150.57,808,10.34V309.54H0V280.8Z\"\n            transform=\"translate(0 -135.53)\"\n          />\n        </svg>\n      </div>\n    </Layout>\n  );\n};\n\nexport default SignIn;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAEA;AADA;AAQA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AACA;AADA;AA9CA;AADA;AACA;AAoDA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAMA;AACA;AAFA;AALA;AAAA;AAAA;AACA;AASA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAJA;AASA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;;;;A","sourceRoot":""}